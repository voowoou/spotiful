(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{2029:function(e,t,a){"use strict";var s,n,i=a(7294);function _extends(){return(_extends=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(e[s]=a[s])}return e}).apply(this,arguments)}t.Z=function(e){return i.createElement("svg",_extends({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 768 170"},e),s||(s=i.createElement("path",{fill:"#FFFCF9",d:"M225.736 128.768c-2.304 0-4.779-.085-7.424-.256-2.56-.085-5.205-.256-7.936-.512-2.645-.341-5.163-.64-7.552-.896-2.389-.341-4.523-.725-6.4-1.152v-12.416c2.389.171 5.163.341 8.32.512 3.243.171 6.613.299 10.112.384 3.499.085 6.869.128 10.112.128 3.413 0 6.443-.299 9.088-.896 2.645-.683 4.693-1.835 6.144-3.456 1.451-1.621 2.176-3.925 2.176-6.912v-4.48c0-3.328-.939-5.888-2.816-7.68-1.877-1.792-4.651-2.688-8.32-2.688h-8.832c-8.619 0-15.275-1.877-19.968-5.632-4.608-3.755-6.912-10.197-6.912-19.328v-4.864c0-9.13 2.517-15.701 7.552-19.712 5.12-4.096 12.416-6.144 21.888-6.144 3.243 0 6.571.17 9.984.512 3.499.256 6.827.597 9.984 1.024 3.157.427 5.845.896 8.064 1.408v12.416a846.628 846.628 0 0 0-12.928-.768c-4.779-.256-9.216-.384-13.312-.384-3.243 0-6.101.341-8.576 1.024-2.475.683-4.352 1.92-5.632 3.712-1.28 1.707-1.92 4.267-1.92 7.68v3.072c0 4.01 1.067 6.827 3.2 8.448 2.219 1.621 5.376 2.432 9.472 2.432h9.856c5.547 0 10.112 1.024 13.696 3.072 3.584 2.048 6.229 4.864 7.936 8.448 1.792 3.499 2.688 7.51 2.688 12.032v6.016c0 6.997-1.365 12.373-4.096 16.128-2.731 3.755-6.485 6.315-11.264 7.68-4.779 1.365-10.24 2.048-16.384 2.048Zm46.971-.768V33.536h39.04c2.987 0 6.016.384 9.088 1.152 3.072.683 5.888 2.09 8.448 4.224 2.645 2.133 4.736 5.29 6.272 9.472 1.621 4.181 2.432 9.77 2.432 16.768 0 6.997-.811 12.63-2.432 16.896-1.621 4.267-3.755 7.552-6.4 9.856-2.56 2.219-5.376 3.755-8.448 4.608-2.987.768-5.888 1.152-8.704 1.152-1.451 0-3.285-.043-5.504-.128-2.133-.17-4.395-.341-6.784-.512a239.16 239.16 0 0 0-6.528-.64c-1.963-.256-3.541-.47-4.736-.64V128h-15.744Zm15.744-44.672h21.248c2.475 0 4.651-.555 6.528-1.664 1.877-1.195 3.328-3.072 4.352-5.632 1.024-2.645 1.536-6.23 1.536-10.752 0-4.437-.555-7.936-1.664-10.496-1.024-2.56-2.432-4.352-4.224-5.376-1.707-1.11-3.712-1.664-6.016-1.664h-21.76v35.584Zm98.59 45.44c-6.315 0-11.861-.597-16.64-1.792-4.693-1.28-8.661-3.541-11.904-6.784-3.157-3.328-5.547-8.149-7.168-14.464-1.536-6.315-2.304-14.55-2.304-24.704 0-10.24.811-18.517 2.432-24.832 1.621-6.4 4.011-11.264 7.168-14.592 3.243-3.413 7.211-5.76 11.904-7.04 4.779-1.28 10.283-1.92 16.512-1.92 6.4 0 11.989.64 16.768 1.92 4.779 1.28 8.747 3.627 11.904 7.04 3.157 3.328 5.504 8.192 7.04 14.592 1.621 6.315 2.432 14.592 2.432 24.832 0 10.155-.811 18.39-2.432 24.704-1.536 6.315-3.925 11.136-7.168 14.464-3.157 3.243-7.125 5.504-11.904 6.784-4.693 1.195-10.24 1.792-16.64 1.792Zm0-14.208c4.181 0 7.68-.427 10.496-1.28 2.901-.939 5.205-2.56 6.912-4.864 1.707-2.389 2.944-5.76 3.712-10.112.768-4.437 1.152-10.197 1.152-17.28 0-7.51-.427-13.483-1.28-17.92-.768-4.523-2.005-7.936-3.712-10.24-1.707-2.39-3.968-3.968-6.784-4.736-2.816-.853-6.315-1.28-10.496-1.28-3.925 0-7.296.427-10.112 1.28-2.816.768-5.12 2.347-6.912 4.736-1.707 2.304-2.987 5.717-3.84 10.24-.853 4.437-1.28 10.41-1.28 17.92 0 7.083.341 12.843 1.024 17.28.768 4.352 2.005 7.723 3.712 10.112 1.707 2.304 3.968 3.925 6.784 4.864 2.901.853 6.443 1.28 10.624 1.28ZM460.184 128V47.744h-27.136V33.536h70.016v14.208h-27.008V128h-15.872Zm53.773 0V33.536h15.744V128h-15.744Zm33.375 0V54.144c0-4.01.597-7.339 1.792-9.984 1.195-2.73 2.773-4.864 4.736-6.4 2.048-1.536 4.267-2.603 6.656-3.2 2.475-.683 4.907-1.024 7.296-1.024 3.328 0 7.253.043 11.776.128 4.523 0 9.259.128 14.208.384 4.949.17 9.728.47 14.336.896v13.184h-36.096c-2.816 0-5.035.81-6.656 2.432-1.536 1.536-2.304 3.67-2.304 6.4v19.072l39.296.896v12.416l-39.296.896V128h-15.744Zm108.691.64c-5.205 0-10.027-.427-14.464-1.28-4.437-.939-8.277-2.517-11.52-4.736-3.243-2.304-5.76-5.419-7.552-9.344-1.707-4.011-2.56-9.131-2.56-15.36V33.536h15.744V97.92c0 4.096.811 7.381 2.432 9.856 1.621 2.389 3.925 4.096 6.912 5.12 3.072 1.024 6.741 1.536 11.008 1.536 4.267 0 7.893-.512 10.88-1.536 3.072-1.024 5.419-2.731 7.04-5.12 1.621-2.475 2.432-5.76 2.432-9.856V33.536h15.744V97.92c0 6.229-.896 11.349-2.688 15.36-1.707 3.925-4.181 7.04-7.424 9.344-3.243 2.219-7.083 3.797-11.52 4.736-4.352.853-9.173 1.28-14.464 1.28Zm73.554-.64c-4.437 0-8.277-.683-11.52-2.048-3.157-1.365-5.547-3.584-7.168-6.656-1.621-3.157-2.432-7.296-2.432-12.416V33.536h15.744v70.784c0 2.389.427 4.309 1.28 5.76.853 1.365 1.963 2.304 3.328 2.816 1.451.512 3.029.768 4.736.768h31.36V128h-35.328Z"})),n||(n=i.createElement("path",{fill:"#FF6978",d:"M130.804 71.4c-2.061 0-3.329-.519-5.113-1.556C97.469 52.88 47.011 48.809 14.349 57.989c-1.427.4-3.21 1.038-5.113 1.038-5.233 0-9.236-4.111-9.236-9.42 0-5.429 3.33-8.502 6.897-9.54C20.849 35.956 36.467 34 53.47 34c28.936 0 59.258 6.067 81.416 19.08 3.091 1.796 5.113 4.27 5.113 9.02 0 5.429-4.36 9.3-9.196 9.3Zm-12.288 30.416c-2.061 0-3.448-.918-4.875-1.677-24.773-14.768-61.716-20.716-94.575-11.735-1.903.52-2.933 1.038-4.717 1.038-4.241 0-7.69-3.473-7.69-7.743 0-4.271 2.061-7.105 6.144-8.263 11.02-3.113 22.276-5.428 38.765-5.428 25.725 0 50.578 6.426 70.159 18.161 3.211 1.916 4.479 4.39 4.479 7.863-.04 4.311-3.369 7.784-7.69 7.784ZM107.854 128c-1.665 0-2.695-.519-4.241-1.437-24.734-15.008-53.511-15.647-81.931-9.779-1.546.399-3.568 1.038-4.717 1.038-3.845 0-6.263-3.074-6.263-6.307 0-4.111 2.418-6.067 5.39-6.706 32.464-7.224 65.64-6.586 93.942 10.458 2.418 1.557 3.845 2.954 3.845 6.586S111.065 128 107.854 128Z"})))}},5557:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return a(3299)}])},3299:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return IndexPage}});var s,n,i=a(5893),r=a(7294),c=a(1163),o=a(9008),l=a.n(o),d=a(2029),h=a(4926),u=a.n(h);function Header(){return(0,i.jsxs)("header",{className:u().headerContainer,children:[(0,i.jsx)("div",{children:(0,i.jsx)(d.Z,{className:u().spotiful})}),(0,i.jsxs)("nav",{children:[(0,i.jsx)("a",{href:"#main-section",children:(0,i.jsx)("span",{children:"PLAYLIST"})}),(0,i.jsx)("a",{href:"#about-section",children:(0,i.jsx)("span",{children:"ABOUT"})})]})]})}function _extends(){return(_extends=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(e[s]=a[s])}return e}).apply(this,arguments)}var plus_icon=function(e){return r.createElement("svg",_extends({xmlns:"http://www.w3.org/2000/svg",viewBox:"-9.5 -9.5 50 50"},e),s||(s=r.createElement("path",{fillRule:"evenodd",d:"M39 20c0 10.493-8.507 19-19 19S1 30.493 1 20 9.507 1 20 1s19 8.507 19 19Zm1 0c0 11.046-8.954 20-20 20S0 31.046 0 20 8.954 0 20 0s20 8.954 20 20ZM18 9c0-.943 0-1.414.293-1.707C18.586 7 19.057 7 20 7c.943 0 1.414 0 1.707.293C22 7.586 22 8.057 22 9v9h9c.943 0 1.414 0 1.707.293.293.293.293.764.293 1.707 0 .943 0 1.414-.293 1.707C32.414 22 31.943 22 31 22h-9v9c0 .943 0 1.414-.293 1.707C21.414 33 20.943 33 20 33c-.943 0-1.414 0-1.707-.293C18 32.414 18 31.943 18 31v-9H9c-.943 0-1.414 0-1.707-.293C7 21.414 7 20.943 7 20c0-.943 0-1.414.293-1.707C7.586 18 8.057 18 9 18h9V9Z",clipRule:"evenodd"})))},p=a(8e3),m=a.n(p),f=a(7912),x=a.n(f);function SearchBar(e){let{setSearchValue:t}=e;return(0,i.jsx)("input",{className:m().searchField,type:"text",name:"search-field",onChange:e=>{t(e.target.value)}})}function SearchList(e){let{tracksArray:t,tracksToAdd:a,setTracksToAdd:s}=e,handleClick=e=>{a.includes(e.id)||s(t=>[...t,e])},n=t.map(e=>(0,i.jsxs)("li",{children:[(0,i.jsxs)("div",{className:x().trackInfo,children:[(0,i.jsx)("span",{className:x().trackName,children:e.name}),(0,i.jsx)("p",{className:x().trackArtist,children:e.artists.map((t,a)=>a!==e.artists.length-1?"".concat(t.name,", "):t.name)})]}),(0,i.jsx)("button",{onClick:()=>handleClick(e),className:x().button,children:(0,i.jsx)(plus_icon,{className:x().icon})})]},e.id));return(0,i.jsx)("ul",{className:x().ul,children:n})}function Search(e){let{tracksToAdd:t,setTracksToAdd:a}=e,[s,n]=(0,r.useState)(""),[c,o]=(0,r.useState)([]);return(0,r.useEffect)(()=>{let getTracks=async()=>{if(s)try{let e=await fetch("https://api.spotify.com/v1/search?q="+s+"&type=track&limit=10",{headers:{Authorization:"Bearer "+sessionStorage.getItem("access_token")}});if(e.ok){let t=await e.json();o(t.tracks.items)}else throw Error("Request failed")}catch(e){window.alert(e)}};getTracks()},[s]),(0,i.jsxs)("div",{className:m().searchContainer,children:[(0,i.jsx)("h3",{children:"Search by song name"}),(0,i.jsx)(SearchBar,{setSearchValue:n}),(0,i.jsx)(SearchList,{tracksArray:c,tracksToAdd:t,setTracksToAdd:a})]})}var _=a(7536);function minus_icon_extends(){return(minus_icon_extends=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(e[s]=a[s])}return e}).apply(this,arguments)}var minus_icon=function(e){return r.createElement("svg",minus_icon_extends({xmlns:"http://www.w3.org/2000/svg",viewBox:"-9.5 -9.5 50 50"},e),n||(n=r.createElement("path",{fillRule:"evenodd",d:"M39 20c0 10.493-8.507 19-19 19S1 30.493 1 20 9.507 1 20 1s19 8.507 19 19Zm1 0c0 11.046-8.954 20-20 20S0 31.046 0 20 8.954 0 20 0s20 8.954 20 20Zm-7.293-1.707C32.414 18 31.943 18 31 18H9c-.943 0-1.414 0-1.707.293C7 18.586 7 19.057 7 20c0 .943 0 1.414.293 1.707C7.586 22 8.057 22 9 22h22c.943 0 1.414 0 1.707-.293C33 21.414 33 20.943 33 20c0-.943 0-1.414-.293-1.707Z",clipRule:"evenodd"})))},j=a(5086),y=a.n(j);function TracksToAdd(e){let{tracksToAdd:t,setTracksToAdd:a}=e,handleClick=e=>{let s=t.findIndex(t=>t.id===e.id),n=[...t];n.splice(s,1),a(n)},s=t.map((e,t)=>(0,i.jsxs)("li",{children:[(0,i.jsxs)("div",{className:x().trackInfo,children:[(0,i.jsx)("span",{className:x().trackName,children:e.name}),(0,i.jsx)("p",{className:x().trackArtist,children:e.artists.map((t,a)=>a!==e.artists.length-1?"".concat(t.name,", "):t.name)})]}),(0,i.jsx)("button",{onClick:()=>handleClick(e),className:x().button,children:(0,i.jsx)(minus_icon,{className:x().icon})})]},"".concat(e.id,"-").concat(t)));return(0,i.jsx)("ul",{className:x().ul,children:s})}function Playlist(e){let{tracksToAdd:t,setTracksToAdd:a}=e,[s,n]=(0,r.useState)(""),[c,o]=(0,r.useState)(""),[l,d]=(0,r.useState)(!1),{handleSubmit:h,control:u}=(0,_.cI)(),onSubmit=async e=>{await Promise.all([n(e.playlistName),o(e.playlistDescription),d(e.privacy)])},createPlaylist=async()=>{try{let e=await fetch("https://api.spotify.com/v1/me",{headers:{Authorization:"Bearer "+sessionStorage.getItem("access_token")}});if(e.ok){let t=await e.json(),a=t.id;console.log("1 — User ID was received"),s&&c&&l&&postRequest(a)}else throw Error("User ID request failed")}catch(e){window.alert(e)}},postRequest=async e=>{try{let t=await fetch("https://api.spotify.com/v1/users/".concat(e,"/playlists"),{method:"POST",headers:{Authorization:"Bearer "+sessionStorage.getItem("access_token"),"Content-Type":"application/json"},body:JSON.stringify({name:s,public:l,description:c})});if(t.ok){let e=await t.json(),a=e.id;console.log("2 — Playlist was created"),addTracksToPlaylist(a)}else throw Error("Playlist adding failed")}catch(e){window.alert(e)}},addTracksToPlaylist=async e=>{try{let a=await fetch("https://api.spotify.com/v1/playlists/".concat(e,"/tracks"),{method:"POST",headers:{Authorization:"Bearer "+sessionStorage.getItem("access_token"),"Content-Type":"application/json"},body:JSON.stringify({uris:t.map(e=>e.uri)})});if(a.ok)console.log("3 — Tracks was added"),window.alert("Your playlist was successfully created!");else throw Error("Tracks adding failed")}catch(e){window.alert(e)}};return(0,r.useEffect)(()=>{sessionStorage.getItem("access_token")&&createPlaylist()},[s,c,l]),(0,i.jsxs)("div",{className:y().playlistContainer,children:[(0,i.jsx)("h3",{children:"Your new Spotify playlist"}),(0,i.jsxs)("form",{onSubmit:h(onSubmit),children:[(0,i.jsx)("div",{children:(0,i.jsxs)("label",{className:y().textLabel,children:["Name",(0,i.jsx)(_.Qr,{name:"playlistName",control:u,render:e=>{let{field:t}=e;return(0,i.jsx)("input",{...t,type:"text"})}})]})}),(0,i.jsx)("div",{children:(0,i.jsxs)("label",{className:y().textLabel,children:["Description",(0,i.jsx)(_.Qr,{name:"playlistDescription",control:u,render:e=>{let{field:t}=e;return(0,i.jsx)("input",{...t,type:"text",className:y().inputField})}})]})}),(0,i.jsx)("div",{children:(0,i.jsxs)("span",{children:["Privacy",(0,i.jsxs)("label",{children:[(0,i.jsx)(_.Qr,{name:"privacy",control:u,render:e=>{let{field:t}=e;return(0,i.jsx)("input",{...t,type:"radio",checked:"false"===t.value,onChange:()=>t.onChange("false"),className:y().radioDefault})}}),(0,i.jsx)("span",{className:y().radioCustom}),"Private"]}),(0,i.jsxs)("label",{children:[(0,i.jsx)(_.Qr,{name:"privacy",control:u,render:e=>{let{field:t}=e;return(0,i.jsx)("input",{...t,type:"radio",checked:"true"===t.value,onChange:()=>t.onChange("true"),className:y().radioDefault})}}),(0,i.jsx)("span",{className:y().radioCustom}),"Public"]})]})}),(0,i.jsx)("input",{type:"submit",value:"SAVE NEW PLAYLIST",className:y().saveButton})]}),(0,i.jsx)(TracksToAdd,{tracksToAdd:t,setTracksToAdd:a})]})}var v=a(624),w=a.n(v);function Main(){let[e,t]=(0,r.useState)([]);return(0,i.jsxs)("div",{id:"main-section",className:w().mainContainer,children:[(0,i.jsx)("h2",{children:"PLAYLIST"}),(0,i.jsxs)("div",{className:w().searchAndPlaylist,children:[(0,i.jsx)(Search,{tracksToAdd:e,setTracksToAdd:t}),(0,i.jsx)(Playlist,{tracksToAdd:e,setTracksToAdd:t})]})]})}var g=a(2213),k=a.n(g);function About(){return(0,i.jsxs)("div",{id:"about-section",className:k().aboutContainer,children:[(0,i.jsx)("h2",{children:"ABOUT"}),(0,i.jsxs)("div",{children:[(0,i.jsx)("p",{children:'So, the guide is simple. You just search for a song by its name on Spotify and then you can choose from the relevant songs. Then you click on the plus icon, and your song goes to "Your new Spotify playlist" where you can give a name to the playlist, delete songs, and save the playlist to your Spotify profile by clicking the "Save new playlist" button. That\'s it for now.'}),(0,i.jsx)("p",{children:"In general, this is an educational project that I created for the Codecademy.com course. I used vanilla JavaScript, React, Next.js, and Git. Maybe later, I'll implement some new features, but for now, you can check out the project's GitHub repository."})]})]})}var C=a(2876),b=a.n(C);function Footer(){return(0,i.jsxs)("div",{className:b().footerContainer,children:[(0,i.jsx)("span",{children:"Nikolai Bik"}),(0,i.jsx)("span",{children:"2023"})]})}function IndexPage(){let e=(0,c.useRouter)(),[t,a]=(0,r.useState)(!0),[s,n]=(0,r.useState)(null);return(0,r.useEffect)(()=>{(()=>{let t=window.location.hash.slice(1),s=new URLSearchParams(t).get("access_token"),i=new URLSearchParams(t).get("expires_in");if(s){let e=Date.now()+1e3*i;sessionStorage.setItem("access_token",s),n(e)}else a(!1),e.push("/login")})()},[]),(0,r.useEffect)(()=>{if(s){let t=s-Date.now();if(t>0){let a=setTimeout(()=>{e.push("/login")},t);return()=>clearTimeout(a)}}},[s]),(0,i.jsxs)("div",{className:"container",children:[(0,i.jsxs)(l(),{children:[(0,i.jsx)("title",{children:"Spotiful"}),(0,i.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1.0"})]}),t&&(0,i.jsxs)("div",{children:[(0,i.jsx)(Header,{}),(0,i.jsx)(Main,{}),(0,i.jsx)(About,{}),(0,i.jsx)(Footer,{})]})]})}},2213:function(e){e.exports={aboutContainer:"about_aboutContainer__OoVKG"}},2876:function(e){e.exports={footerContainer:"footer_footerContainer__5P0TB"}},4926:function(e){e.exports={headerContainer:"header_headerContainer__pHQaT",spotiful:"header_spotiful__EG0Aj"}},7912:function(e){e.exports={ul:"list_ul__uadaT",trackInfo:"list_trackInfo__q0amc",trackName:"list_trackName__q4AZi",trackArtist:"list_trackArtist__VU798",button:"list_button__c3XTd",icon:"list_icon__vcA_4"}},624:function(e){e.exports={mainContainer:"main_mainContainer__VFKPU",searchAndPlaylist:"main_searchAndPlaylist__5fqje"}},5086:function(e){e.exports={playlistContainer:"playlist_playlistContainer__xhOUw",textLabel:"playlist_textLabel__3_YDC",radioDefault:"playlist_radioDefault__VNDDU",radioCustom:"playlist_radioCustom__48_ZI",saveButton:"playlist_saveButton__W_tKU"}},8e3:function(e){e.exports={searchContainer:"search_searchContainer__Sq6Sj",searchField:"search_searchField__glbPg"}}},function(e){e.O(0,[825,774,888,179],function(){return e(e.s=5557)}),_N_E=e.O()}]);